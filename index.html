<!DOCTYPE html>
<html>
<head>
    <title>Training Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            width: 1400px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
        #container{
            width: 294.3px;
            margin-right: 30px;
            margin-bottom: 10px;
            padding: 5px;
            height: 50px;
            
        }
        h1 {
            color: red;
            text-align: center;
        }
        h3 {
            color: black;
        }
        label {
            font-weight: bold;
            display: inline-block;
            width: 250px;
            text-align: left;
            margin-bottom: 30px;
        }
        input[type="text"] {
            width: 300px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 2px;
        }
        input[type="radio"] {
            margin-right: 5px;
            margin-left: 5px;
            
        }
        button {
            padding: 8px 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        input[type="date"]{
            width: 294.3px;
            margin-right: 30px;
            margin-bottom: 10px;
            padding: 5px;
            height: 20px;
        }
        #Payment Details{
            width: 300px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 3px;
        }
    </style>
      <style>
        
        .dropdown-container {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
    
        .dropdown-container select {
            width: 307.10px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 3px;
        }
    
        .dropdown-container input {
            width: 300px;
            margin-bottom: 10px;
            margin-right: 31px;
            margin-left: 5px;
            padding: 2px;
        }
    
        .dropdown-container label {
            font-weight: bold;
            display: inline-block;
            width: 250px;
            text-align: left;
            margin-bottom: 10px;
            padding: 2px;
        }
        #popupWindow {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 800px; /* Increase the width as desired */
            height: 700px; /* Increase the height as desired */
            background-color: white;
            border: 1px solid #ccc;
            padding: 20px;
        }

#closeButton {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: transparent;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: #999;
  padding: 0;
}

#closeButton:hover {
  color: #555;
}



    
    </style>
</head>
<body>
    <div class="container">
        <center><h1>SALUJA CAD CONSULTANCY</h1></center>
        <center><h3>The CAD/CAM People</h3></center>
        <center><h4>PTC Authorized Training Centre</h4></center>
        <center><p>2, CIVIL LINES ENCLAVE, CIVIL LINES GURGAON-122001</p></center>
        <center><p>Ph.: +91-124-4289954, 9810098953, 9818298953, 9811937182, 991008950, 9910098915</p></center>
        <center><p>hksaluja@gmail.com  www.cadcamindia.com</p></center>
        <form method="POST" name="google-sheet" action="">
            <label for="email">Enter your email address:</label>
            <input type="text" id="email" name="email">
            <label for="start-date">Training Start Date:</label>
            <input type="date" id="start-date" name="start-date"><br>
            <label for="full-name">Full Name:</label>
            <input type="text" id="full-name" name="full-name">
            <label for="father-name">Father's/Spouse's Name:</label>
            <input type="text" id="father-name" name="father-name"><br>
            <label for="birth-date">Date of Birth:</label>
            <input type="date" id="birth-date" name="birth-date">
            <label for="company-name">Company Name:</label>
            <input type="text" id="company-name" name="company-name"><br>
            <label for="postal-address">Postal Address:</label>
            <input type="text" id="postal-address" name="postal-address">
            <label for="permanent-address">Permanent Address:</label>
            <input type="text" id="permanent-address" name="permanent-address">
            <label for="phone">Tel. No. & Mobile No.:</label>
            <input type="text" id="phone" name="phone">
            <label for="alternate-phone">Alternate No.:</label>
            <input type="text" id="alternate-phone" name="alternate-phone"><br>
            <label for="education">Qualification:</label>
            <input type="text" id="education" name="education"><br>
           
            <div id="dropdownContainer">
                <div class="dropdown-container">
                    <label for="course">Course:</label>
                    <select name="course" id="course" style="width: 307.10px;
                    margin-bottom: 10px;
                    margin-right: 30px;
                    padding: 3px;">
                        <option value="">--Select Course--</option>
                        <option value="Drawing Concept">Drawing Concept</option>
                        <option value="Module I - AutoCAD 2D">Module I - AutoCAD 2D</option>
                        <option value="Module II - Productivity Tool">Module II - Productivity Tool</option>
                        <option value="Module III - AutoCAD 3D">Module III - AutoCAD 3D</option>
                        <option value="Solid Works">Solid Works</option>
                        <option value="NX/Unigraphics">NX/Unigraphics</option>
                        <option value="CatIA">CatIA</option>
                        <option value="Solid Edge">Solid Edge</option>
                        <option value="CREO">CREO</option>
                        <option value="AutoCAD Civil 3D">AutoCAD Civil 3D</option>
                        <option value="3D Max with V-Ray">3D Max with V-Ray</option>
                        <option value="Google Sketchup">Google Sketchup</option>
                        <option value="Excel-Basic">Excel - Basic</option>
                        <option value="Excel-Advance">Excel - Advance</option>
                        <option value="Tally">Tally</option>
                        <option value="MDT">MDT</option>
                        <option value="Pro Engineer CREO">Pro Engineer CREO</option>
                        <option value="AutoLisp">AutoLisp</option>
                        <option value="Python">Python</option>
                        <option value="Java">Java</option>
                        <option value="C++">C++</option>
                    </select>
                    <label for="fees">Course Fees:</label>
                    <input type="text" id="fees" name="course-fees"><br>
                </div>
            </div>
        
            <button type="button" onclick="addDropdown()" name="course">+</button><br><br>
                
            
            
             
          
            

           
            <label for="Training">Training Type:</label>
            <select name ="Training Type" style="width: 307.10px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 3px;">
                <option value="">--Select--</option>
                <option value="Part Time">Part Time</option>
                <option value="Full Time">Full Time</option>
                <option value="On the Job Training">On the Job Training</option>
                <option value="Internship">Internship</option>

            </select>
            <label for="Training Timing">Training Timing:</label>
            <input type="text" id="Training" name="Training">
            <label for="Job">Present Job(Title):</label>
            <input type="text" id="Job" name="Job">
            <label for="Experience">Experience:</label>
            <input type="text" id="Experience" name="Experience">
            <label for="reference">References:</label>
            <input type="text" id="reference" name="reference"><br>
            <label for="Computer Packages Known">Computer Packages Known:</label>
            <input type="text" id="Computer Packages Known" name="Computer Packages Known">
            <label for="Computer Languages Known">Computer Languages Known:</label>
            <input type="text" id="Computer Languages Known" name="Computer Languages Known">
            <label for="Payment Details">Payment Details: 1st</label>
            <input type="text" id="Payment Details" name="Payment Details 1.">
            <label for="Mode of Payment 1.">Mode of Payment: 1st</label>
            <select  name ="Mode of Payment 1." style="width: 307.10px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 3px;" >
                <option value="">--Select--</option>
                <option value="Paytm/Gpay">Paytm/Gpay</option>
                <option value="Cash">Cash</option>
                <option value="Cheque">Cheque</option>
            </select><br>
            <label for="Payment Details">Payment Details: 2nd</label>
            <input type="text" id="Payment Details" name="Payment Details 2.">
            <label for="Mode of Payment 2.">Mode of Payment: 2nd</label>
            <select  name ="Mode of Payment 2." style="width: 307.10px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 3px;" >
                <option value="">--Select--</option>
                <option value="Paytm/Gpay">Paytm/Gpay</option>
                <option value="Cash">Cash</option>
                <option value="Cheque">Cheque</option>
            </select><br>
            <label for="Payment Details">Payment Details: 3rd</label>
            <input type="text" id="Payment Details" name="Payment Details 3.">
            <label for="Mode of Payment 3.">Mode of Payment: 3rd</label>
            <select  name ="Mode of Payment 3." style="width: 307.10px;
            margin-bottom: 10px;
            margin-right: 30px;
            padding: 3px;" >
                <option value="">--Select--</option>
                <option value="Paytm/Gpay">Paytm/Gpay</option>
                <option value="Cash">Cash</option>
                <option value="Cheque">Cheque</option>
            </select><br>
            <label>Unique ID:</label>
            <input type="text" id="saveId" name="Unique ID">
            <button id="saveFormBtn">Save Form</button>
            <button id="loadFormBtn">Load Form</button>
            <center><label style="font-weight: bold;
                display: inline-block;
                width: 300px;
                text-align: left;
                margin-bottom: 10px;
                padding: 2px;">Note: Training Fee is non refundable</label><br></center>
            <input type="checkbox" name="T&C" required>I agree to the <a href="#" id="popupLink">Terms and Conditions</a>.
            
            <div id="popupWindow"  style="display: none;">
                <button id="closeButton">X</button>
                <!-- Pop-up content goes here -->
                <h2>Terms and Conditions:-</h2><br>
                <p><input type="text" placeholder="Enter the course" name="Course 1" >Course for&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" placeholder="Enter the duration" name="Duration"><br> Duration. &nbsp;After Course&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" placeholder="Enter the duration" name="Duration 1"> on the Job Training will be from <br>8 AM to 8PM.&nbsp; Certificate Will be provided after test. 
                  &nbsp;During Training Period,&nbsp; 30% Business Development<br><br> Work and 70% Practical Work will be there. In case of less Training Time, Training Period will be extended<br><br> Accordingly.
                Job Will be provided During Training Period. In case of no job, salary of &nbsp;&nbsp;&nbsp;&nbsp;<input type="text" placeholder="Salary" style="width: 125px;" name="Salary"> will be given here 12 Hours a day.<strong> This Training Fee is non refundable.</strong>
                </p>
              </div><br><br>
              
            <button type="submit">Submit</button>
            <button type="button" id="resetFormBtn">Reset</button>

            

           
        </form>
    </div>




    
    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxsiCY4K8Gz9OZAOJRuZACxiFE4Wjzs1Z2jA72uXHJ3fbeMWVAAlWzhRmGLxPQf5PU0Og/exec';
        const form = document.forms['google-sheet'];
        const dropdownContainer = document.getElementById('dropdownContainer');
        let dropdownCounter = 1;

form.addEventListener('submit', e => {
  e.preventDefault();
  const formData = new FormData(form);

  // Store the value of the original dropdown and input box
  const originalCourseValue = formData.get('course');
  const originalFeesValue = formData.get('course-fees');
  if (originalCourseValue && originalFeesValue) {
    formData.append('courses[]', originalCourseValue);
    formData.append('fees[]', originalFeesValue);
  }

  // Iterate over the dynamically added dropdowns and input boxes
  for (let i = 1; i <= dropdownCounter; i++) {
    const courseValue = formData.get(`course${i}`);
    const feesValue = formData.get(`course-fees${i}`);
    if (courseValue && feesValue) {
      formData.append(`courses[]`, courseValue);
      formData.append(`fees[]`, feesValue);
    }
  }

  fetch(scriptURL, { method: 'POST', body: formData })
    .then(response => {
      alert("Thanks for Contacting us! We will contact you soon...");
      form.reset(); // Reset the form fields
      resetDynamicInputs(); // Reset the dynamically added dropdowns and input boxes
    })
    .catch(error => console.error('Error!', error.message));
});

function addDropdown() {
  var newDropdown = document.createElement('div');
  newDropdown.className = 'dropdown-container';

  newDropdown.innerHTML = `
    <label for="course${dropdownCounter}">Course:</label>
    <select name="course${dropdownCounter}" style="width: 307.10px; margin-bottom: 10px; margin-right: 30px; padding: 3px;">
      <option value="">--Select Course--</option>
      <option value="Drawing Concept">Drawing Concept</option>
      <option value="Module I - AutoCAD 2D">Module I - AutoCAD 2D</option>
      <option value="Module II - Productivity Tool">Module II - Productivity Tool</option>
      <option value="Module III - AutoCAD 3D">Module III - AutoCAD 3D</option>
      <option value="Solid Works">Solid Works</option>
      <option value="NX/Unigraphics">NX/Unigraphics</option>
      <option value="CatIA">CatIA</option>
      <option value="Solid Edge">Solid Edge</option>
      <option value="CREO">CREO</option>
      <option value="AutoCAD Civil 3D">AutoCAD Civil 3D</option>
      <option value="3D Max with V-Ray">3D Max with V-Ray</option>
      <option value="Google Sketchup">Google Sketchup</option>
      <option value="Excel-Basic">Excel - Basic</option>
      <option value="Excel-Advance">Excel - Advance</option>
      <option value="Tally">Tally</option>
      <option value="MDT">MDT</option>
      <option value="Pro Engineer CREO">Pro Engineer CREO</option>
      <option value="AutoLisp">AutoLisp</option>
      <option value="Python">Python</option>
      <option value="Java">Java</option>
      <option value="C++">C++</option>
    </select>
    <label for="fees${dropdownCounter}">Course Fees:</label>
    <input type="text" name="course-fees${dropdownCounter}"><br>
  `;

  dropdownContainer.appendChild(newDropdown);
  dropdownCounter++;


}
const saveIdInput = document.getElementById('saveId');
const saveFormBtn = document.getElementById('saveFormBtn');
const loadFormBtn = document.getElementById('loadFormBtn');
const termsCheckbox = document.querySelector('input[type="checkbox"]');
const popupLink = document.getElementById('popupLink');
const closeButton = document.getElementById('closeButton');
const popupWindow = document.getElementById('popupWindow');


// Event listener for the link click to open the pop-up
popupLink.addEventListener('click', function(event) {
  event.preventDefault(); // Prevents the link from navigating to a different page
  popupWindow.style.display = 'block';
});

// Event listener for the close button click
closeButton.addEventListener('click', function() {
  popupWindow.style.display = 'none';
});

// Event listener for closing the pop-up when clicking outside the pop-up window
popupWindow.addEventListener('click', function(event) {
  if (event.target === popupWindow) {
    popupWindow.style.display = 'none';
  }
});


form.addEventListener('submit', function(event) {
  if (!termsCheckbox.checked) {
    event.preventDefault(); // Prevent form submission
    alert('Please accept the Terms and Conditions.'); // Display an error message
  }
});

popupLink.addEventListener('click', function(event) {
  event.preventDefault(); // Prevent the link from navigating to a different page
  popupWindow.style.display = 'block';
});

closeButton.addEventListener('click', function() {
  popupWindow.style.display = 'none';
});

popupWindow.addEventListener('click', function(event) {
  if (event.target === popupWindow) {
    popupWindow.style.display = 'none';
  }
});
// Save form data to local storage with a unique ID
saveFormBtn.addEventListener('click', function() {
  const saveId = generateUniqueId();
  const formData = new FormData(form);
  const serializedFormData = JSON.stringify(Array.from(formData));
  localStorage.setItem(saveId, serializedFormData);
  saveIdInput.value = saveId;
});


// Clear saved form data from local storage when the form is submitted
// form.addEventListener('submit', function() {
//   localStorage.removeItem(saveIdInput.value);
// });

// Function to generate a unique ID for each user
function generateUniqueId() {
  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  let id = '';
  for (let i = 0; i < 8; i++) {
    const randomIndex = Math.floor(Math.random() * characters.length);
    id += characters.charAt(randomIndex);
  }
  return id;
}

// Function to populate form fields
function populateFormFields(formData) {
  for (const [name, value] of Object.entries(formData)) {
    const input = form.elements[name];
    if (input) {
      if (input.type === 'checkbox' || input.type === 'radio') {
        if (Array.isArray(value)) {
          value.forEach((item) => {
            if (input.value === item) {
              input.checked = true;
            }
          });
        } else {
          input.checked = value;
        }
      } else if (input.type === 'select-multiple') {
        const selectedOptions = Array.from(input.options).map((option) => option.value);
        value.forEach((item) => {
          if (selectedOptions.includes(item)) {
            input.options[selectedOptions.indexOf(item)].selected = true;
          }
        });
      } else {
        input.value = value;
      }
    }
  }
}

// Load saved form data based on the provided ID
loadFormBtn.addEventListener('click', function() {
  const savedFormData = localStorage.getItem(saveIdInput.value);
  if (savedFormData) {
    const parsedFormData = JSON.parse(savedFormData);
    populateFormFields(parsedFormData);
  } else {
    alert('No saved form found with the provided ID.');
  }
});

// Save form data
saveFormBtn.addEventListener('click', function() {
  const formData = new FormData(form);
  const serializedFormData = {};
  for (const [name, value] of formData.entries()) {
    if (serializedFormData[name]) {
      if (Array.isArray(serializedFormData[name])) {
        serializedFormData[name].push(value);
      } else {
        serializedFormData[name] = [serializedFormData[name], value];
      }
    } else {
      serializedFormData[name] = value;
    }
  }
  const serializedData = JSON.stringify(serializedFormData);
  localStorage.setItem(saveIdInput.value, serializedData);
  alert('Form data saved successfully.');
});




const resetFormBtn = document.getElementById('resetFormBtn');

// Reset the form when the "Reset Form" button is clicked
resetFormBtn.addEventListener('click', function() {
  form.reset();
});
function resetDynamicInputs() {
    const dynamicInputs = document.querySelectorAll('.dropdown-container:not(:first-child)');
    dynamicInputs.forEach(input => input.remove());
  }


</script>
      
      
    
</body>
</html>